<div id="log_view_main" style="max-height: 500px;">
    <div class="container-offset">
        <x-rha-header page="logViewer"></x-rha-header>
    </div>
    <div class="row-fluid" ng-controller="logViewerController" ng-mouseup="enableDiagnoseButton()">
        <div class="nav-side-bar col-xs-3" ng-class="{ showMe: sidePaneToggle }" fill-down ng-style="{height: windowHeight }">
            <div class="hideable-side-bar" ng-class="{ showMe: sidePaneToggle }">
                <div ng-controller="DropdownCtrl" ng-init="init()">
                    <h4 class="file-list-title" ng-class="{ showMe: hideDropdown}">Available Log Files</h4>
                    <div class="btn-group" ng-class="{ hideMe: hideDropdown}">
                        <div class="machines-spinner" ng-class="{ showMe: loading }">
                            <span class="rha-search-spinner pull-right"></span>
                        </div>

                        <button type="button" class="dropdown-toggle btn btn-sm btn-primary" data-toggle="dropdown">
                            {{machinesDropdownText}}
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu">
                            <li ng-repeat="choice in items" ng-click="machineSelected()"><a>{{choice}}</a>
                            </li>
                        </ul>
                    </div>
                    <div id="fileList" fill-down ng-style="{ height: windowHeight }" class="fileList" ng-controller="fileController">
                        <div data-angular-treeview="true" data-tree-id="mytree" data-tree-model="roleList" data-node-id="roleId" data-node-label="roleName" data-node-children="children">
                        </div>
                    </div>
                    <button ng-disabled="retrieveFileButtonIsDisabled.check" type="button" class="pull-right btn btn-sm btn-primary" ng-controller="selectFileButton" ng-click="fileSelected()">
                        Select File</button>
                </div>
            </div>
            <a ng-click="sidePaneToggle = !sidePaneToggle">
                <span ng-class="{ showMe: sidePaneToggle }" class="pull-right glyphicon glyphicon-chevron-left left-side-glyphicon"></span>
            </a>
        </div>
        <div class=col-fluid>
            <div class="col-xs-6 pull-right solutions" fill-down ng-style="{height: windowHeight }" ng-class="{ showMe: solutionsToggle }">
                <div id="resizeable-solution-view" fill-down class="resizeable-solution-view" ng-class="{ showMe: solutionsToggle }" ng-style="{height: windowHeight }" x-rha-accordion-search-results='' opencase='true' ng-controller='SearchController'>
                </div>
                <a ng-click="solutionsToggle = !solutionsToggle">
                    <span ng-class="{ showMe: solutionsToggle }" class="glyphicon glyphicon-chevron-left right-side-glyphicon"></span>
                </a>
            </div>
            <div class="col-fluid">
                <div ng-controller="TabsDemoCtrl" ng-class="{ showMe: solutionsToggle }">
                    <div class="panel panel-default logs-instruction-pane" ng-hide="tabs.length > 0" fill-down ng-style="{ height: windowHeight }" style="overflow:auto">
                        <div class="panel-body" >
                            <div>
                                <h2>Log File Viewer</h2>
                                <p>
                                    <h3>The log file viewer gives the ability to diagnose application logs as well as file a support case with Red Hat Global Support Services.
                                    </h3>
                            </div>
                            <div>
                                <br>
                                <h4>
                                    <span class="glyphicon glyphicon-refresh"></span>&nbsp;Select Log</h4>
                                <p>
                                    Simply navigate to and select a log file from the list on the left and click the 'Select File' button.

                            </div>
                            <div>
                                <br>
                                <h4>
                                    <span class="glyphicon glyphicon-search"></span>&nbsp;Diagnose
                                </h4>
                                <p>
                                    Once you have selected your log file then you may diagnose any part of the log file and clicking the 'Red Hat Diagnose' button. This will then display relevant articles and solutons from our Red Hat Knowledge base.

                            </div>
                            <div>
                                <br>
                                <h4>
                                    <span class="glyphicon glyphicon-plus"></span>&nbsp;Open a New Support Case
                                </h4>
                                <p>
                                    In the event that you would still like to open a support case, select 'Open a New Support Case'. The case will be pre-populated with the portion of the log previously selected.

                            </div>
                        </div>

                    </div>
                    <tabset ng-show='tabs.length > 0'>
                        <tab active="tab.active" ng-repeat="tab in tabs">
                            <tab-heading>{{tab.shortTitle}}
                                <a ng-click="removeTab($index)" href=''>
                                    <span class="glyphicon glyphicon-remove"></span>
                                </a>
                            </tab-heading>
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <a popover="Click to refresh log file." popover-trigger="mouseenter" popover-placement="right" ng-click="refreshTab($index)">
                                        <span class="glyphicon glyphicon-refresh"></span>
                                    </a>
                                    <h3 class="panel-title" style="display: inline">{{tab.longTitle}}</h3>
                                    <div class="pull-right" id="overlay" popover="Select text and click to perform Red Hat Diagnose" popover-trigger="mouseenter" popover-placement="left">
                                        <button ng-disabled="isDisabled" id="diagnoseButton" type="button" class="btn btn-sm btn-primary diagnoseButton" ng-click="diagnoseText()">Red Hat Diagnose</button>
                                    </div>
                                    <a class="tabs-spinner" ng-class="{ showMe: isLoading }">
                                        <span class="rha-search-spinner"></span>
                                    </a>

                                    <br>
                                    <br>
                                </div>
                                <div class="panel-body" fill-down ng-style="{ height: windowHeight }">

                                    <pre id="resizeable-file-view" class="no-line-wrap">{{tab.content}}</pre>
                                </div>
                            </div>
                        </tab>
                    </tabset>
                </div>
            </div>
        </div>
    </div>
</div>